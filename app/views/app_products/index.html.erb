<h1><%=h @app.name %> Products</h1>

<% if @app.app_products.count > 0 %>
<table>
  <tr>
    <th>Product</th>
      <th>Min Version supported</th>
      <th>Max Version</th>
      <th>Product Vendor</th>
    <th>Who is using</th>
    <th></th>
    <th></th>
    <th></th>
  </tr>

<% @app_products.each do |app_product| %>
  <tr>
      <td><%= app_product.product.name %></td>
      <td><%= app_product.min_app_version ? app_product.min_app_version.name : 'N/A' %></td>
      <td><%= app_product.max_app_version ? app_product.max_app_version.name : 'N/A' %></td>
      <td><%= app_product.product.vendor.name %></td>
    <td><%= app_product.whoisusing %></td>
      <td><%= link_to 'Show', [@app, app_product] %></td>
      <td><%= link_to 'Edit', edit_app_app_product_path(@app, app_product) %></td>
      <td><%= link_to 'Destroy', [@app, app_product], :confirm => 'Are you sure?', :method => :delete %></td>
  </tr>
<% end %>
</table>

<br />

<% else %>
  <p><%=h @app.name %> does not have any third party products yet.</p>
<% end %>
<p>
  <%= link_to 'New Product', new_app_app_product_path(@app) %> |
  <%= link_to 'Back', @app %>
</p>
